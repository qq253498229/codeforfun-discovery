<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_0ctno6f" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="4.3.0">
  <bpmn:process id="Process_1qnyeaj" isExecutable="true">
    <bpmn:startEvent id="StartEvent_1" name="服务端启动">
      <bpmn:outgoing>Flow_1i49ftz</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:startEvent id="Event_026fkg1" name="客户端启动">
      <bpmn:outgoing>Flow_1olb7x9</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:task id="Activity_0qi7qon" name="向数据库发送注册消息">
      <bpmn:incoming>Flow_1i49ftz</bpmn:incoming>
      <bpmn:outgoing>Flow_0qk0sur</bpmn:outgoing>
      <bpmn:outgoing>Flow_16l7if3</bpmn:outgoing>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_012ahwm">
        <bpmn:targetRef>DataStoreReference_1rnt1t8</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
    </bpmn:task>
    <bpmn:sequenceFlow id="Flow_1i49ftz" sourceRef="StartEvent_1" targetRef="Activity_0qi7qon" />
    <bpmn:task id="Activity_17k00nx" name="向数据库发送注册消息">
      <bpmn:incoming>Flow_1olb7x9</bpmn:incoming>
      <bpmn:outgoing>Flow_0y77227</bpmn:outgoing>
      <bpmn:outgoing>Flow_0eluhu1</bpmn:outgoing>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_0hpq8w3">
        <bpmn:targetRef>DataStoreReference_1rnt1t8</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
    </bpmn:task>
    <bpmn:sequenceFlow id="Flow_1olb7x9" sourceRef="Event_026fkg1" targetRef="Activity_17k00nx" />
    <bpmn:dataStoreReference id="DataStoreReference_1rnt1t8" name="数据库" />
    <bpmn:task id="Activity_0ss2eu9" name="选举主机">
      <bpmn:incoming>Flow_0qk0sur</bpmn:incoming>
      <bpmn:outgoing>Flow_0o1wj2z</bpmn:outgoing>
    </bpmn:task>
    <bpmn:sequenceFlow id="Flow_0qk0sur" sourceRef="Activity_0qi7qon" targetRef="Activity_0ss2eu9" />
    <bpmn:task id="Activity_00h93a3" name="服务端任务">
      <bpmn:incoming>Flow_16l7if3</bpmn:incoming>
      <bpmn:incoming>Flow_0o1wj2z</bpmn:incoming>
      <bpmn:incoming>Flow_0ns521h</bpmn:incoming>
      <bpmn:outgoing>Flow_0r3ovaw</bpmn:outgoing>
      <bpmn:outgoing>Flow_0v6dgoh</bpmn:outgoing>
    </bpmn:task>
    <bpmn:sequenceFlow id="Flow_16l7if3" sourceRef="Activity_0qi7qon" targetRef="Activity_00h93a3" />
    <bpmn:task id="Activity_1qo1m8d" name="服务列表访问统计">
      <bpmn:incoming>Flow_0y77227</bpmn:incoming>
      <bpmn:incoming>Flow_0r3ovaw</bpmn:incoming>
      <bpmn:incoming>Flow_0v6dgoh</bpmn:incoming>
      <bpmn:incoming>Flow_09pa9vc</bpmn:incoming>
      <bpmn:outgoing>Flow_0ns521h</bpmn:outgoing>
    </bpmn:task>
    <bpmn:sequenceFlow id="Flow_0y77227" sourceRef="Activity_17k00nx" targetRef="Activity_1qo1m8d" />
    <bpmn:sequenceFlow id="Flow_0o1wj2z" name="分配负责的客户端" sourceRef="Activity_0ss2eu9" targetRef="Activity_00h93a3" />
    <bpmn:sequenceFlow id="Flow_0r3ovaw" name="健康检查" sourceRef="Activity_00h93a3" targetRef="Activity_1qo1m8d" />
    <bpmn:sequenceFlow id="Flow_0v6dgoh" name="发送服务列表" sourceRef="Activity_00h93a3" targetRef="Activity_1qo1m8d" />
    <bpmn:sequenceFlow id="Flow_0ns521h" name="交换访问统计" sourceRef="Activity_1qo1m8d" targetRef="Activity_00h93a3" />
    <bpmn:task id="Activity_0v3kel8" name="调用服务">
      <bpmn:incoming>Flow_0eluhu1</bpmn:incoming>
      <bpmn:outgoing>Flow_09pa9vc</bpmn:outgoing>
    </bpmn:task>
    <bpmn:sequenceFlow id="Flow_0eluhu1" sourceRef="Activity_17k00nx" targetRef="Activity_0v3kel8" />
    <bpmn:sequenceFlow id="Flow_09pa9vc" name="获取服务列表" sourceRef="Activity_0v3kel8" targetRef="Activity_1qo1m8d" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1qnyeaj">
      <bpmndi:BPMNEdge id="Flow_0ns521h_di" bpmnElement="Flow_0ns521h">
        <di:waypoint x="700" y="430" />
        <di:waypoint x="700" y="310" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="707" y="383" width="66" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0v6dgoh_di" bpmnElement="Flow_0v6dgoh">
        <di:waypoint x="690" y="310" />
        <di:waypoint x="690" y="430" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="707" y="343" width="66" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0r3ovaw_di" bpmnElement="Flow_0r3ovaw">
        <di:waypoint x="650" y="310" />
        <di:waypoint x="650" y="430" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="598" y="343" width="44" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0o1wj2z_di" bpmnElement="Flow_0o1wj2z">
        <di:waypoint x="670" y="160" />
        <di:waypoint x="670" y="230" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="576" y="185" width="88" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0y77227_di" bpmnElement="Flow_0y77227">
        <di:waypoint x="440" y="470" />
        <di:waypoint x="620" y="470" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_16l7if3_di" bpmnElement="Flow_16l7if3">
        <di:waypoint x="440" y="270" />
        <di:waypoint x="620" y="270" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0qk0sur_di" bpmnElement="Flow_0qk0sur">
        <di:waypoint x="390" y="230" />
        <di:waypoint x="390" y="120" />
        <di:waypoint x="620" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1olb7x9_di" bpmnElement="Flow_1olb7x9">
        <di:waypoint x="168" y="470" />
        <di:waypoint x="340" y="470" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1i49ftz_di" bpmnElement="Flow_1i49ftz">
        <di:waypoint x="168" y="270" />
        <di:waypoint x="340" y="270" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0eluhu1_di" bpmnElement="Flow_0eluhu1">
        <di:waypoint x="390" y="510" />
        <di:waypoint x="390" y="610" />
        <di:waypoint x="620" y="610" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_09pa9vc_di" bpmnElement="Flow_09pa9vc">
        <di:waypoint x="670" y="570" />
        <di:waypoint x="670" y="510" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="597" y="539" width="66" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="132" y="252" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="123" y="295" width="55" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_026fkg1_di" bpmnElement="Event_026fkg1">
        <dc:Bounds x="132" y="452" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="123" y="495" width="55" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0qi7qon_di" bpmnElement="Activity_0qi7qon">
        <dc:Bounds x="340" y="230" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_17k00nx_di" bpmnElement="Activity_17k00nx">
        <dc:Bounds x="340" y="430" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="DataStoreReference_1rnt1t8_di" bpmnElement="DataStoreReference_1rnt1t8">
        <dc:Bounds x="365" y="345" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="321.5" y="363" width="33" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_00h93a3_di" bpmnElement="Activity_00h93a3">
        <dc:Bounds x="620" y="230" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1qo1m8d_di" bpmnElement="Activity_1qo1m8d">
        <dc:Bounds x="620" y="430" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0v3kel8_di" bpmnElement="Activity_0v3kel8">
        <dc:Bounds x="620" y="570" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0ss2eu9_di" bpmnElement="Activity_0ss2eu9">
        <dc:Bounds x="620" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="DataOutputAssociation_012ahwm_di" bpmnElement="DataOutputAssociation_012ahwm">
        <di:waypoint x="390" y="310" />
        <di:waypoint x="390" y="345" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataOutputAssociation_0hpq8w3_di" bpmnElement="DataOutputAssociation_0hpq8w3">
        <di:waypoint x="390" y="430" />
        <di:waypoint x="390" y="395" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
